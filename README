# ğŸ’Š MedVerify

MedVerify ist eine moderne Webanwendung zur sicheren, nachvollziehbaren und validierten Verwaltung von digitalen Rezepten in Apotheken und PrÃ¼fstellen.
Sie kombiniert eine einfache BenutzeroberflÃ¤che mit medizinischer Logik, PrÃ¼fstatus-Verfolgung und automatisierten Tests Ã¼ber GitHub Actions, Cypress und Jest.

## ğŸ§  Ãœberblick

**MedVerify** ermÃ¶glicht das Erstellen, PrÃ¼fen und Verwalten von Rezepten durch zwei Benutzerrollen:

- **Apotheker** (`apo@demo.local`)  
  â†’ Erfasst Rezepte und reicht sie ein.  

- **PrÃ¼fer** (`pruefer@demo.local`)  
  â†’ ÃœberprÃ¼ft eingereichte Rezepte, Ã¤ndert deren Status (z. B. `GUELTIG`, `PRUEFEN`, `ABGELEHNT`).

Jede Aktion wird automatisch validiert, geloggt und Ã¼ber die UI visualisiert.

---

## ğŸ§© Hauptfunktionen

| Kategorie                          | Beschreibung                                                                     |
|------------------------------------|----------------------------------------------------------------------------------|
| ğŸ” **Login-System**                | Authentifizierung per Demo-User (`apo@demo.local`, `password123`)               |
| ğŸ’Š **Rezept-Erfassung**            | Patient, Medikament, Menge, Datum, Dosierung                                    |
| ğŸš« **Duplikat-Erkennung**          | Blockiert doppelte EintrÃ¤ge (Patient + Medikament + Datum)                      |
| âš–ï¸ **Validierungslogik**           | PrÃ¼ft auf fehlende Dosierung und ungÃ¼ltige Mengen                               |
| ğŸ•“ **Status-System**               | PRUEFEN â†’ GUELTIG â†’ ABGELEHNT                                                   |
| ğŸ§¾ **Audit-Log**                   | Speichert StatusÃ¤nderungen automatisch                                          |
| ğŸ’… **UI mit TailwindCSS**          | Klare Buttons, Badges und Formulare                                             |
| ğŸ¤– **End-to-End Tests (Cypress)**  | VollstÃ¤ndige Testabdeckung fÃ¼r Login, Formulare und StatusÃ¤nderungen            |
| ğŸ§ª Unit & Integration Tests (Jest) | Testet Backend-Logik und API-Routen isoliert                                    |
| â˜ï¸ **CI/CD via GitHub Actions**    | Automatisierte Builds und Tests                                                 |
| ğŸ§® **Xray-Integration (optional)** | JUnit-Ergebnisse werden automatisch importiert                                  |

---

## ğŸ§± Architektur

medverify/
â”œâ”€â”€ backend/ # Node.js + Express + Prisma
â”‚ â”œâ”€â”€ prisma/schema.prisma
â”‚ â”œâ”€â”€ src/
â”‚ â”‚ â”œâ”€â”€ server.ts # Hauptserver mit API-Routen
â”‚ â”‚ â”œâ”€â”€ routes/ # Auth / Prescriptions / AuditLog
â”‚   â”œâ”€â”€ tests/  # Jest Tests
â”‚   â”‚   â”œâ”€â”€ unit/autoCheck.spec.ts
â”‚   â”‚   â””â”€â”€ integration/auth.login.int.spec.ts
â”‚ â”‚ â””â”€â”€ middleware/
â”‚ â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/ # React + Vite + TailwindCSS
â”‚ â”œâ”€â”€ src/
â”‚ â”‚ â”œâ”€â”€ App.tsx # Routing + Layout
â”‚ â”‚ â”œâ”€â”€ api.ts # Axios API Client
â”‚ â”‚ â”œâ”€â”€ pages/ # Login, Dashboard, Formular
â”‚ â”‚ â””â”€â”€ components/
â”‚ â””â”€â”€ package.json
â”‚
â”œâ”€â”€ cypress/ # E2E Tests
â”‚ â”œâ”€â”€ e2e/
â”‚ â”‚ â”œâ”€â”€ login.cy.ts
â”‚ â”‚ â”œâ”€â”€ form.cy.ts
â”‚ â”‚ â”œâ”€â”€ status.cy.ts
â”‚ â”‚ â””â”€â”€ duplicate.cy.ts
â”‚ â””â”€â”€ cypress.config.ts
â”‚
â””â”€â”€ .github/workflows/medverify-e2e.yml



---

## âš™ï¸ Lokale Installation

### Voraussetzungen
- Node.js â‰¥ 20
- npm â‰¥ 9
- SQLite (wird automatisch durch Prisma angelegt)

### 1ï¸âƒ£ Repository klonen
```bash
git clone 
cd medverify
2ï¸âƒ£ Backend installieren

cd backend
npm install
npx prisma generate
npx prisma migrate dev
npm run dev
â†’ lÃ¤uft unter http://localhost:4000

3ï¸âƒ£ Frontend installieren

cd ../frontend
npm install
npm run dev
â†’ lÃ¤uft unter http://localhost:5173

4ï¸âƒ£ Login-Daten (Seed)
Das Backend enthÃ¤lt Demo-Daten, erreichbar Ã¼ber:


POST http://localhost:4000/dev/seed
âœ… Testen (Cypress)

cd frontend
npx cypress open
oder Headless:


npx cypress run
Die Tests prÃ¼fen:

Login (login.cy.ts)

Formularvalidierung (form.cy.ts)

Grenzwerte (Boundary Values)

Fehlerhafte Eingaben (errors.cy.ts)

Duplikaterkennung (duplicate.cy.ts)

StatusÃ¤nderungen (status.cy.ts)

â˜ï¸ CI/CD (GitHub Actions)
Die Datei .github/workflows/medverify-e2e.yml fÃ¼hrt bei jedem Push automatisch:

Backend-Build

Frontend-Build

Cypress-E2E-Tests

Jest (Unit + Integration Tests)

JUnit-Bericht Upload

(optional) Upload zu Xray

Secrets
XRAY_TOKEN	(Optional) Token zur JUnit-Import-API von Xray
XRAY_CLIENT_ID / XRAY_CLIENT_SECRET	(Optional) falls automatischer Token-Abruf gewÃ¼nscht

ğŸ§© Technologien
Bereich	Tools
Frontend	React 19, Vite 7, TailwindCSS 4
Backend	Node.js, Express, Prisma ORM
Datenbank	SQLite
Tests	Jest, Supertest, Cypress
CI/CD	GitHub Actions
Reporting	JUnit XML + Xray API
Sprache	TypeScript

ğŸ”® Geplante Erweiterungen

 Verbesserte UI/UX (Dark Mode, Modal-Dialoge)

 Mehrsprachigkeit (Deutsch/Englisch)

 API-Rate-Limiting & Auth-Token-Refresh

 Deployment via Docker Compose

ğŸ§ª Geplante Tests & QA-Erweiterungen

Kategorie	                        Beschreibung
ğŸ” Sicherheits-Tests	            Brute-Force-Login-Versuche (mehrfache falsche PasswÃ¶rter, Sperrlogik, Rate-Limit)
âš™ï¸ API-Integrations-Tests (Jest)	Tests fÃ¼r Rezept-Erstellung, Duplikat-PrÃ¼fung, Statuswechsel, Rollenrechte
ğŸ§  Validierungs-Tests (Unit)	    Erweiterte Feld-Validierungen: Datumsgrenzen, Mengengrenzen, leere Felder
ğŸŒ E2E-Tests (Cypress)	          VollstÃ¤ndige Nutzer-Flows mit Fehlerhandling und StatusÃ¤nderungen
ğŸ’¾ Datenbank-Tests (Prisma)	      Sicherstellen, dass Relationen (User â†’ Prescription) korrekt gespeichert werden
ğŸ“Š Performance-Tests (optional)	  Messung der Antwortzeiten und DB-Queries unter Last
ğŸ§± CI-StabilitÃ¤t	                Flakiness-Reduktion durch deterministische Seeds und Wait-Strategien
ğŸ“ˆ Xray-Reporting-Tests	          Validierung des automatischen JUnit-Exports und API-Uploads


ğŸ§° Langfristige Test-Ziele

Abdeckung > 90 % aller kritischen Pfade (Login, PlausibilitÃ¤tscheck, StatusÃ¤nderung)

Automatisierte Regression-Tests bei jedem PR

Integration in SonarQube fÃ¼r Code-QualitÃ¤t & Coverage-Trends

Nightly-Runs mit randomisierten Testdaten

ğŸ§‘â€ğŸ’» Autor
Entwicklerin: Montassar Ben Hmida
Solo-Projekt â€“ Planung, Entwicklung, Test und CI/CD von Grund auf.

ğŸ“„ Lizenz
Apache License Â© 2025
